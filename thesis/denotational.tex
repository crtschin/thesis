\subsection{Denotational semantics}
% A formal semantics of programming language: An introduction
% TODO: Work through MV feedback
The notion of denotational semantics tries to find underlying mathematical models able to underpin the concepts known in programming languages. The most well-known example is the solution given by Dana Scott and Christopher Strachey\cite{Scott1977} for lambda calculi, also called domain theory.
To be able to formalize non-termination and partiality, they thought to use concepts such as partial orderings and least fixed points\cite{aaby2020}.
In this model, programs are interpreted as partial functions, and recursive computations as taking the fixpoint of such functions.
Non-termination, on the other hand, is formalized as a value \<bottom> that is lower in the ordering relation than any other element.

Automatic differentiation introduces a challenge in constructing a denotational semantics as the notion of differentiability needs to be included.
If the language under consideration were to be restricted to real-typed terms, cartesian spaces would have been sufficient as any well-typed term $x_1 : R, \dots, x_n : R \vdash t : R$ could be interpreted as the corresponding smooth function $\llbracket t \rrbracket : \denoteR^n \to \denoteR$.
This, however, does not work when function types are added as their denotational equivalent, function spaces, are not supported by Cartesian spaces\cite{huot2020correctness}.
In the original pen and paper proof of automatic differentiation this thesis is based on by Huot, Staton and \Vakar{}\cite{huot2020correctness}, the mathematical models used were diffeological spaces.

For the purpose of this thesis, however, we were able to avoid using diffeological spaces by directly encoding the property of differentiability in the logical relation itself.
We were also able to avoid domain theoretical models such as $\omega$-cpos by excluding language constructs such as recursion and iteration where non-termination and partiality come into play.
As a part of its type system, \<Coq> contains a set-theoretical model available under the sort \<Set>, which is satisfactory as the denotational semantics for our language.

Because we use the real numbers as the ground type in our language, we also needed an encoding of the real numbers in Coq.
The library for real numbers in \<Coq> has improved in recent times from one based on a completely axiomatic definition to one involving Cauchy sequences\fancyfootnote{https://coq.inria.fr/library/Coq.Reals.ConstructiveCauchyReals.html}.
For the purposes of this thesis, however, we also needed differentiability as the denotational result of applying the macro operation.
Instead of attempting to encode this by hand, we opted for the more comprehensive library \<Coquelicot>\cite{Boldo2015CoquelicotAU}, which contains many useful definitions for differentiating functions.
