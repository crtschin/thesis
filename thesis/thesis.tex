\documentclass[11pt, final]{article}
\usepackage{mystyle}

\addbibresource{./references.bib}

\input{definitions.tex}

\setlength{\headheight}{15pt}
\pagestyle{fancy}
\lhead{Utrecht University}
\rfoot{\thepage}
\cfoot{ }
\allowdisplaybreaks

\begin{document}

\input{titlepage.tex}
\newpage

\input{abstract.tex}
\newpage

\pagenumbering{arabic}
\setcounter{page}{3}
\tableofcontents
\newpage

\input{introduction.tex}

\section{Background}

\input{ad.tex}
\input{denotational.tex}
\input{coq.tex}
\input{logical_relation.tex}
\input{related_work.tex}
\input{notation.tex}

\section{Formalizing Forward-Mode AD}
  We will explain our formalization of the forward-mode automatic differentiation macro in the following sections.
  The formal proof will start from a base simply-typed lambda calculus extended with product types and incrementally add both sum and array types.
  Also included in the final language are natural number types with a primitive recursion principle.
  Many of the theorems and lemmas introduced in section~\ref{sec:formal_stlc} do not change, as they are independent of the specific types and terms included in the language.
  \input{stlc.tex}
  \input{sums_prim.tex}
  \input{arrays.tex}
\section{Optimization}
  \subsection{Program Transformations}
\section{Reverse-Mode AD}
\section{Discussion}
  \subsection{Problems}
  \input{future_work.tex}
\section{Conclusion}

\appendix
\section{Language Definitions}
\section{Forward-Mode Macro}
\section{Denotations}
\printbibliography
\makeatother
\end{document}